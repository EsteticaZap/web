<div class="planos-container">
  <!-- Header -->
  <div class="planos-header">
    <div class="badge-container">
      <span [class]="getStatusBadgeClass()">{{ getStatusBadgeText() }}</span>
    </div>
    <h1 class="titulo-principal">Escolha o Plano Ideal para o Seu Salão</h1>
    <p class="subtitulo">Gerencie seu salão de beleza com eficiência e praticidade. Escolha o plano que melhor se adapta às suas necessidades.</p>
  </div>

  <!-- Loading -->
  <div *ngIf="assinaturaService.isLoading()" class="loading-container">
    <div class="spinner"></div>
    <p>Carregando...</p>
  </div>

  <!-- Grid de Planos -->
  <div class="planos-grid" *ngIf="!assinaturaService.isLoading()">
    <app-pricing-card
      *ngFor="let plano of planos"
      [plano]="plano"
      [isPlanoAtual]="isPlanoAtual(plano.nome)"
      [mode]="'app'"
      (selectPlan)="selecionarPlano($event)">
    </app-pricing-card>
  </div>

  <!-- Seção de Benefícios -->
  <div class="beneficios-section">
    <h2 class="beneficios-titulo">Por que fazer upgrade para o Plano Pro?</h2>
    <div class="beneficios-grid">
      <div class="beneficio-card">
        <div class="beneficio-icone">
          <i class="pi pi-infinity"></i>
        </div>
        <h3>Sem Limites</h3>
        <p>Agendamentos e clientes ilimitados. Seu salão pode crescer sem barreiras.</p>
      </div>

      <div class="beneficio-card">
        <div class="beneficio-icone">
          <i class="pi pi-whatsapp"></i>
        </div>
        <h3>Integração WhatsApp</h3>
        <p>Envie lembretes automáticos e se comunique diretamente com seus clientes.</p>
      </div>

      <div class="beneficio-card">
        <div class="beneficio-icone">
          <i class="pi pi-chart-line"></i>
        </div>
        <h3>Relatórios Avançados</h3>
        <p>Visualize o desempenho do seu salão com gráficos e relatórios detalhados.</p>
      </div>

      <div class="beneficio-card">
        <div class="beneficio-icone">
          <i class="pi pi-users"></i>
        </div>
        <h3>Múltiplos Profissionais</h3>
        <p>Gerencie até 5 profissionais e organize a agenda de toda a equipe.</p>
      </div>

      <div class="beneficio-card">
        <div class="beneficio-icone">
          <i class="pi pi-download"></i>
        </div>
        <h3>Exportação de Dados</h3>
        <p>Exporte seus relatórios em Excel ou PDF para análises detalhadas.</p>
      </div>

      <div class="beneficio-card">
        <div class="beneficio-icone">
          <i class="pi pi-headphones"></i>
        </div>
        <h3>Suporte Prioritário</h3>
        <p>Atendimento rápido e prioritário via WhatsApp para resolver qualquer dúvida.</p>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="faq-section">
    <h2 class="faq-titulo">Perguntas Frequentes</h2>
    <div class="faq-grid">
      <div class="faq-item">
        <h3><i class="pi pi-question-circle"></i> Posso cancelar a qualquer momento?</h3>
        <p>Sim! Você pode cancelar seu plano Pro a qualquer momento, sem multas ou taxas de cancelamento.</p>
      </div>

      <div class="faq-item">
        <h3><i class="pi pi-question-circle"></i> O que acontece com meus dados se eu cancelar?</h3>
        <p>Seus dados permanecem seguros. Você continuará com acesso ao plano Free com as limitações aplicáveis.</p>
      </div>

      <div class="faq-item">
        <h3><i class="pi pi-question-circle"></i> Posso fazer upgrade depois?</h3>
        <p>Com certeza! Você pode fazer upgrade do plano Free para o Pro a qualquer momento.</p>
      </div>

      <div class="faq-item">
        <h3><i class="pi pi-question-circle"></i> Qual é a forma de pagamento?</h3>
        <p>Aceitamos cartão de crédito e débito. O pagamento é processado de forma segura mensalmente.</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Pagamento -->
<div class="modal-overlay" *ngIf="mostrarModalPagamento" (click)="fecharModalPagamento()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>Upgrade para Plano Pro</h2>
      <button class="btn-fechar" (click)="fecharModalPagamento()">
        <i class="pi pi-times"></i>
      </button>
    </div>

    <div class="modal-body">
      <div class="resumo-compra">
        <h3>Resumo da Assinatura</h3>
        <div class="resumo-item">
          <span>Plano Pro</span>
          <span class="valor-destaque">R$ 49,90/mês</span>
        </div>
        <div class="resumo-divider"></div>
        <div class="resumo-total">
          <span>Total</span>
          <span class="valor-total">R$ 49,90</span>
        </div>
      </div>

      <div class="info-pagamento">
        <p><i class="pi pi-info-circle"></i> Este é um pagamento simulado. Em produção, você seria redirecionado para uma plataforma de pagamento segura.</p>
      </div>
    </div>

    <div class="modal-footer">
      <button class="btn-cancelar" (click)="fecharModalPagamento()">
        Cancelar
      </button>
      <button class="btn-confirmar" (click)="confirmarPagamento()" [disabled]="isLoadingPagamento">
        <span *ngIf="!isLoadingPagamento">
          <i class="pi pi-check"></i>
          Confirmar Pagamento
        </span>
        <span *ngIf="isLoadingPagamento">
          <i class="pi pi-spin pi-spinner"></i>
          Processando...
        </span>
      </button>
    </div>
  </div>
</div>
